!function(a,b){"use strict";function c(a){var b=f.createElement("div");return a&&b.setAttribute("class",a),b}function d(){var a,b=["pop"],d=c("pop-dialog"),e=c("pop-content"),g=c("pop-header"),h=c("pop-body"),i=c("pop-footer"),j=c("primary"),k=c();return this.fade===!0&&b.push("fade"),this.transparentMask===!0&&b.push("transparent"),a=c(b.join(" ")),j.textContent=this.confirmText,j.dataset.action="confirm",k.textContent=this.cancelText,k.dataset.action="cancel","alert"!==this.type&&i.appendChild(k),i.appendChild(j),e.appendChild(g),e.appendChild(h),e.appendChild(i),d.appendChild(e),a.appendChild(d),f.body.appendChild(a),a}function e(a){return this instanceof e?(a&&this.init(a),this):void 0}var f=a.document,g={type:"confirm",fade:!0,transparentMask:!1,confirmText:"zh-cn"===a.navigator.language.toLowerCase()?"确定":"OK",cancelText:"zh-cn"===a.navigator.language.toLowerCase()?"取消":"Cancel"};e.prototype={init:function(a){for(var b in g)this[b]=g[b];return this.configure(a),this.context=this.context||d.call(this),this._initEvents(),this},show:function(){var a,b,c,d;this.context&&(arguments[1]&&"string"==typeof arguments[1]?(a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3]):(b=arguments[0],c=arguments[1],d=arguments[2]),this.context.querySelector(".pop-header").innerHTML=a||"",this.context.querySelector(".pop-body").innerHTML=b||"",c&&"function"==typeof c&&(this.confirmHandler=c),d&&"function"==typeof d&&(this.cancelHandler=d),f.documentElement.setAttribute("class","pop-show"),f.body.setAttribute("class","pop-show"),this.fade&&this.fade===!0&&setTimeout(function(){this.context.classList.add("in")}.bind(this),10),this.context.style.display="block")},hide:function(a){this.fade&&this.fade===!0&&this.context.classList.remove("in"),this.context.style.display="none",this.confirmHandler&&setTimeout(function(){this.confirmHandler=null}.bind(this),500),this.cancelHandler&&setTimeout(function(){this.cancelHandler=null}.bind(this),500),a&&a.stopPropagation&&a.stopPropagation(),a&&a.preventDefault&&a.preventDefault(),f.documentElement.setAttribute("class",""),f.body.setAttribute("class","")},reset:function(){this._removeEvents(),this.hide()},configure:function(a){if(a&&"object"==typeof a&&a instanceof Object)for(var b in a)this[b]=a[b]},_initEvents:function(){this.confirmHandler=this.cancelHandler=null,this.hideHandler=this.hideHandler||this.hide.bind(this),this.dialogEventProxyHandler=this.dialogEventProxyHandler||this._dialogEventProxy.bind(this),this.context.addEventListener("click",this.dialogEventProxyHandler,!1)},_removeEvents:function(){this.context.removeEventListener("click",this.dialogEventProxyHandler,!1),this.hideHandler=this.confirmHandler=this.cancelHandler=null},_dialogEventProxy:function(a){var b=a.target;switch(b.dataset.action){case"cancel":this.hide(a),this.cancelHandler&&this.cancelHandler.call(b);break;case"confirm":this.hide(a),this.confirmHandler&&this.confirmHandler.call(b)}}},a.addEventListener("DOMContentLoaded",function(){var a=(new e).init(),b=new e({type:"alert"});this.showConfirm=a.show.bind(a),this.hideConfirm=a.hide.bind(a),this.showAlert=b.show.bind(b),this.hideAlert=b.hide.bind(b),f.body.addEventListener("click",function(a){var b,c=a.target;if(c.dataset.toggle&&"pop"===c.dataset.toggle)f.querySelector(c.dataset.target).style.display="block";else if(c.dataset.action&&"close"===c.dataset.action)for(b=c;;){if(9===b.nodeType)break;if(b=b.parentNode,b.classList&&b.classList.contains("pop")){b.style.display="none";break}}},!1)},!1)}(window);